{% extends "::base.html.twig" %}

{% block title %} Send Request! {% endblock title %}

{% block stylesheets %}
<style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
    .sidebar-nav {
      padding: 9px 0;
    }

    @media (max-width: 980px) {
      /* Enable use of floated navbar text */
      .navbar-text.pull-right {
        float: none;
        padding-left: 5px;
        padding-right: 5px;
      }
    }
</style>
    <link rel="stylesheet" href="{{ asset('css/datepicker.css') }}">
{% endblock stylesheets %}


{% block navigation %}
    {{ include('::navigation.html.twig',{ 'user': user, 'roles': roles } ) }}
{% endblock navigation %}

{% block container %}
    <div class="form-signin">
        <h2 class="form-signin-heading text-center">Holiday</h2>
        
        <input class="holiday_date_help input-block-level" type="text" placeholder="Date" />

        {{ form_start(form) }}
            {{ form_errors(form) }}

            <div class="hidden">
                {{ form_label(form.date) }}
                {{ form_errors(form.date) }}
                {{ form_widget(form.date) }}
            </div>

            <div class="">
                <div class="hidden">
                    {{ form_label(form.name) }}
                </div>
                {{ form_errors(form.name) }}
                {{ form_widget(form.name) }}
            </div>

        {{ form_end(form) }}
    </div>
    
    

{% endblock container %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/bootstrap-datepicker.js') }}"></script>
    <script>
        $(document).ready(function(){
            
            $('.holiday_date_help').datepicker();
            
            $('.btn').click(function(){

                var holiday = new Date($('.holiday_date_help').val());
                var dd = holiday.getDate();
                var mm = holiday.getMonth()+1; //January is 0!

                var yyyy = holiday.getFullYear();
                if(dd<10){dd='0'+dd} 
                if(mm<10){mm='0'+mm} 
                holiday = yyyy+'-'+mm+'-'+dd;
                
                $('#holidays_date').val(holiday);
                

            });
            
            $(function(){
                if($('#holidays_date').val() != '')
                {
                    $('.holiday_date_help').val($('#holidays_date').val());
                }
            });
            
        });
    </script>
{% endblock javascripts %}