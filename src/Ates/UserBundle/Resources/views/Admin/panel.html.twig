{% extends "::base.html.twig" %}

{% block title %} Admin Panel {% endblock title %}

{% block stylesheets %}
<style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
    .sidebar-nav {
      padding: 9px 0;
    }

    @media (max-width: 980px) {
      /* Enable use of floated navbar text */
      .navbar-text.pull-right {
        float: none;
        padding-left: 5px;
        padding-right: 5px;
      }
    }
</style>
{% endblock stylesheets %}


{% block navigation %}
    {{ include('::navigation.html.twig',{ 'user': user, 'roles': roles } ) }}
{% endblock navigation %}

{% block container %}
    
<ul id="requestResults">
    {% for  request in requests %}
            <li> 
                 {{ request.getState }} 
                 {{ request.getStartDate|date('Y-m-d') }}  
                 {{ request.getEndDate|date('Y-m-d') }}  
                 <a href=' {{ path('edit_request_form', {'id' : request.id}) }}'>Edit</a> 
                 <a href=' {{ path('approve_request',  {'id' : request.id}) }}'>Approve</a>
                 <a href=' {{ path('reject_request',  {'id' : request.id}) }}'>Reject</a>
            </li> 
    {% endfor %}
</ul>

    
<div id="searchRequest"> 
    <h3>Filter request by:</h3>
    
    <label>First name:</label>
    <input id="requestWorkerName" type="text" name="name" value=""/>
    
    <label>Last name:</label>
    <input id="requestWorkerLastName" type="text" name="lastname" value=""/>
    
    <button id="filterRequestButton">Find</button>
</div>


<br/><h3>Users for approving:</h3>
<ul>
    {% for user in users %}
            <li> {{ user.getFirstName }} 
                 {{ user.getLastName }} 
                 <a href=' {{ path('approve_user', {'id' : user.id}) }}'>Approve</a> 
                 <a href=' {{ path('delete_user_on_approving', {'id' : user.id}) }}'>Delete</a> 
            </li> 
    {% endfor %}
</ul>


<h3> Holidays </h3>
<ul>
    {% for holiday in holidays %}      
            <li> {{ holiday.getDate|date('Y-m-d') }} 
                 {{ holiday.getName }}                    
                 <a href=' {{ path('edit_holiday_form', {'id' : holiday.id}) }}'>Edit</a> 
                 <a href=' {{ path('delete_holiday',  {'id' : holiday.id}) }}'>Delete</a>                
            </li>        
    {% endfor %}
</ul>
<a href=' {{ path('add_holiday') }} '>Add Holiday</a>


<div class="grayWrapp">
    <div id="searchUsers"> 
        <h3>Search/Edit Users:</h3>

        <label>First name:</label>
        <input id="searchUserName" type="text" name="name" value=""/>

        <label>Last name:</label>
        <input id="searchUserLastName" type="text" name="last_name" value=""/>

        <button id="findUsersButton">Find</button>
    </div>
    <div id="usersResult">
    </div>
</div>
    
    
<select id="requestsFilterProfile">
    <option>all</option>
    <option>pending</option>
    <option>approved</option>
</select>
    <div id="userRequestResults"></div>
    
    
     <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{{ asset('js/jquery.js') }}"><\/script>')</script>
    <script src="{{ asset('js/bootstrap.js') }}"></script>
    
    <script src="{{ asset('js/ajax.js') }}"  type="text/javascript"></script>
    
  </div>

</div>


{% endblock container %}

{% block javascripts %}
        <script src="{{ asset('js/ajax.js') }}"  type="text/javascript"></script>
{% endblock javascripts %}