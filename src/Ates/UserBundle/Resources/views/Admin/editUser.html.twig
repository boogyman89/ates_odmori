{% extends '::base.html.twig' %}

{% trans_default_domain 'FOSUserBundle' %}

{% block title%}Registration{% endblock title%}

{% block stylesheets %}
    {{ parent() }}
    <style type="text/css">
        body {
          padding-top: 60px;
          padding-bottom: 40px;
        }
        
    </style>
    <link rel="stylesheet" href="{{ asset('css/datepicker.css') }}">
{% endblock stylesheets %}
    
{% block navigation %}
    {{ include('::navigation.html.twig',{ 'user': user, 'roles': roles } ) }}
{% endblock navigation %}
    
{% block container %}


<div class="form-signin registration-input-width" >
    <h2 class="form-signin-heading text-center">Edit User</h2>
    
    {{ form_start(form) }}
        {{ form_errors(form) }}

        <div class="disabledTextFieldWrapp">
            <p>Username</p>
            <p class="disabledTextField">{{ form.vars.value.username }}<p>
        </div>
        <div class="disabledTextFieldWrapp">
            <p>Email</p>
            <p class="disabledTextField">{{ form.vars.value.email }}</p>
        </div>
        {{ form_row(form.first_name) }}
        {{ form_row(form.last_name) }}
        
        <div class="disabledTextFieldWrapp">
            <p>SSN</p>
            <p class="disabledTextField">{{ form.vars.value.ssn }}<p>
        </div>
    
        {{ form_row(form.address) }}
        {{ form_row(form.phone) }}
        {{ form_row(form.date_of_employment) }}
        {{ form_row(form.date_of_slava) }}
        {{ form_row(form.no_days_off) }}
        {{ form_row(form.save) }}
        
    {{ form_end(form, {'render_rest': false}) }}
    
</div>
{% endblock container %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/bootstrap-datepicker.js') }}"></script>
    
    <script>
        $(document).ready(function(){
            //alert('asdas');
            $('.employment-date').datepicker().on('changeDate', function(ev){
                
                var date = new Date(ev.date.valueOf());
                var dd = date.getDate();
                var mm = date.getMonth()+1; //January is 0!

                var yyyy = date.getFullYear();
                if(dd<10){dd='0'+dd} 
                if(mm<10){mm='0'+mm} 
                date = yyyy+'-'+mm+'-'+dd;
                
                $(this).val(date);
            });
            
            $('.slava-date').datepicker().on('changeDate', function(ev){
                
                var date = new Date(ev.date.valueOf());
                var dd = date.getDate();
                var mm = date.getMonth()+1; //January is 0!

                var yyyy = date.getFullYear();
                if(dd<10){dd='0'+dd} 
                if(mm<10){mm='0'+mm} 
                date = yyyy+'-'+mm+'-'+dd;
                
                $(this).val(date);
            });
            
        });
    </script>
{% endblock javascripts %}

