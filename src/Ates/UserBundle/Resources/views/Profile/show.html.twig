{% extends "::base.html.twig" %}

{% block title %} Welcome {{user.getFirstName}}! {% endblock title %}

{% block stylesheets %}
<style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
    .sidebar-nav {
      padding: 9px 0;
    }

    @media (max-width: 980px) {
      /* Enable use of floated navbar text */
      .navbar-text.pull-right {
        float: none;
        padding-left: 5px;
        padding-right: 5px;
      }
    }
</style>
{% endblock stylesheets %}


{% block navigation %}
    {{ include('::navigation.html.twig',{ 'user': user, 'roles': roles } ) }}
{% endblock navigation %}

{% block container %}


<div class="row-fluid">
    <div class="span3">
      <div class="well sidebar-nav">
        <ul class="nav nav-list">
          <li class="nav-header">Days Off From This Year</li>
          <li class="active"><a href="#">{{ user.getNoDaysOff }}</a></li>
          
          <li class="nav-header">Days Off From Last Year</li>
          <li class="active"><a href="#">{{user.getNoDaysOffLastYear }}</a></li>
          
        </ul>
      </div><!--/.well -->
    </div><!--/span-->
    
    <div class="span9">
        
          <select id="requestsFilterProfile inout-block-level">
            <option>all</option>
            <option>pending</option>
            <option>approved</option>
          </select>
          
          <table class="table table-striped">
            <thead>
              <tr>
                  <th>Status</th>
                  <th>From</th>
                  <th>To</th>
                  <th></th>
                  <th></th>
              </tr>   
            </thead>
            <tbody>
              {% for request in requests %}
                    <tr> 
                        <td>{{ request.getState }}</td> 
                        <td>{{ request.getStartDate|date('Y-m-d') }} </td>  
                        <td>{{ request.getEndDate|date('Y-m-d') }} </td> 
                        {% if (request.getPdf != null )%}
                            <td><a href=' {{ request.getPdf }} '>PDF</a></td>
                         {% endif %}
                         {% if (request.getState == 'pending' )%}
                            <td><a href=' {{ path('edit_request_form', {'id' : request.id})}}'>Edit</a></td>  
                         {% endif %}

                    </tr> 
                {% endfor %}
            </tbody>
          </table>
        

    </div>
</div>


{% endblock container %}

{% block javascripts %}
        <script src="{{ asset('js/ajax.js') }}"  type="text/javascript"></script>
{% endblock javascripts %}
